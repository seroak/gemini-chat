# 세션 로그 템플릿

월별 로그 파일(`docs/context-usage/logs/YYYY-MM.md`)에 세션을 기록할 때 사용하는 템플릿.

---

## 월간 로그 파일 헤더 (파일 새로 생성 시)

```markdown
# YYYY-MM 사용률 로그

## 세션 기록
```

---

## 세션 기록 템플릿

아래 형식으로 `## 세션 기록` 섹션에 추가.

> **중요**: Rule/Skill 행은 하드코딩하지 않는다.
> 기록 시 `.cursor/rules/*.mdc`와 `.cursor/skills/*/SKILL.md`를 Glob으로 스캔하여
> 현재 존재하는 항목으로 테이블을 동적 생성한다.

```markdown
### YYYY-MM-DD 세션 N

**작업 요약**: (이번 세션에서 수행한 주요 작업)
**작업 시간**: 약 N시간
**작업 유형**: (UI 개선 / 백엔드 개발 / 버그 수정 / 리팩토링 / 설정 / 문서화 등)

#### Rules 사용 내역

| Rule | 타입 | 트리거 | 유용 | 비고 |
|------|------|--------|------|------|
| (스캔된 Rule 이름) | always/globs/manual | ✅/❌ | ✅/⬜/❌/- | (메모) |
| ... | ... | ... | ... | ... |

#### Skills 사용 내역

| Skill | 트리거 | 방식 | 완료 | 유용성 | 비고 |
|-------|--------|------|------|--------|------|
| (스캔된 Skill 이름, context-usage-tracker 제외) | ✅/❌ | auto/user/- | ✅/❌/- | 1-5/- | (메모) |
| ... | ... | ... | ... | ... | ... |

#### Sub-agent 사용 내역

| 타입 | 태스크 | 병렬 | 성공 | 유용 | 비고 |
|------|--------|------|------|------|------|
| explore/generalPurpose/shell | (설명) | N | ✅/❌ | ✅/❌ | (메모) |

---
```

### 동적 스캔 절차

기록 시 에이전트는 다음 순서로 목록을 파악한다:

1. **Rules**: `.cursor/rules/*.mdc` Glob → 각 파일의 frontmatter에서 적용 방식 확인
   - `alwaysApply: true` → always (항상 트리거, 유용 여부만 판단)
   - `globs:` 필드 존재 → globs (작업 파일 기반 트리거 판단)
   - 둘 다 없음 → manual (사용자 명시 요청 시만 트리거)
2. **Skills**: `.cursor/skills/*/SKILL.md` Glob → `context-usage-tracker` 자신은 제외
3. 각 항목에 대해 이번 세션의 트리거 여부와 유용성을 기록

---

## 유용성 판단 기호

| 기호 | 의미 | 판단 기준 |
|------|------|-----------|
| ✅ | 유용 | Rule/Skill 내용이 실제 코드 작성/의사결정에 영향을 줌 |
| ⬜ | 무관 | 트리거됐지만 이번 작업과 관련 없었음 |
| ❌ | 방해 | 잘못된 가이드를 주거나 불필요한 컨텍스트 차지 |
| - | 해당 없음 | 트리거되지 않아 판단 불가 |

## globs Rule 트리거 판단 가이드

| 조건 | 트리거 여부 |
|------|-------------|
| 해당 globs 패턴에 매칭되는 파일을 세션에서 편집/생성/읽기 | ✅ 트리거 |
| 해당 영역의 파일을 전혀 다루지 않음 | ❌ 미트리거 |
| 파일을 다뤘지만 globs 패턴이 매칭되지 않는 경로 | ❌ 미트리거 (글로브 수정 필요 가능) |
